<!-- FOS Agency List Start here -->
<div [ngClass]="cardview=='1'?'show':'hide'">
    <div>
        <div class="dash-head" style="margin-top: 0">
            <p>
                Agent List
            </p>
        </div>
        <div>
            <div class="page-filters">
                <h2>
                    <a href="javascript:void(0);">
                        <i class="fa fa-filter" aria-hidden="true"></i> Apply Filters
                        <span><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
                    </a>
                </h2>
                <form [formGroup]="AgencyList">
                    <div class="filter-wrapper">
                        <div class="form-group">

                            <!-- <div class="col-md-3 col-sm-6">
                                <label>State</label>
                                <select class="form-control" formControlName="StateiD" (change)="GetAllDistrict($event.target.value)">
                                    <option value="" selected>--Select--</option>
                                    <option *ngFor="let st of states" [value]="st.ID">{{st.STATENAME}}</option>
                                </select>
                            </div>
                            <div class="col-md-3 col-sm-6">
                                <label>District</label>
                                <select class="form-control" #val formControlName="DistrictID">
                                    <option value="" selected="selected">--Select--</option>
                                    <option *ngFor="let district of district1" [value]="district.ID">{{district.DISTRICTNAME}}</option>
                                </select>
                            </div>

                            <div class="col-md-3 col-sm-3">
                                <label>Search Keywords<span></span></label>
                                <input type="text" class="form-control" placeholder="Search" />
                            </div> -->


                            <div class="col-md-4 col-sm-4">
                                <label>Email Id /Mobile No.<span></span></label>
                                <input type="text" placeholder="Email Id / Mobile No." class="form-control"
                                    formControlName="SearchKeyword">
                            </div>


                        </div>
                        <div class="form-group text-center m-t-5">
                            <button type="submit" class="btn btn-w-shadow no-rd filter-toggle" (click)="getFosDetails1(0,'')">Search</button>
                        </div>
                    </div>
                </form>

            </div>
        </div>

        <div class="col-md-12">

            <div class="form-group" *ngIf="((finaldata != '' || finaldata.length!=0))">
                <div class="col-md-5 col-sm-12 col-xs-12 col-md-offset-7 p-r-0">
                    <div class="legends">
                        <ul>
                            <li><span class="l2"></span> Employer Created</li>
                            <!-- <li><span class="l3"></span> Users partial approved</li> -->
                            <li><span class="l1"></span> Employer not Created</li>
                        </ul>
                    </div>
                </div>
            </div>


            <div class="all-jobs-list">
                <div class="searchResults">
                    <ul class="joblist-wrapper">
                        <li *ngFor="let item of finaldata
                        " class="job-wrapper ps-relative {{(item.NoOfEmployer == '0'?'disapproved':'approved')}}"
                            [style.background-color]="item.LoginId==id ? '#d4d0d0' : '#fff' ">
                            <div class="job-view fos">
                                <div>
                                    <img class="img-thumbnail" src="{{ item.image!='' && item.image!=null?       item.image:'assets/images/NoImage.png'}}"
                                        onError="this.src='../assets/images/NoImage.png'">
                                </div>
                                <div>
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-md-12"><strong>Agent Name : </strong>{{item.agentname ==
                                                null?
                                                'NA':item.agentname}} </div>
                                            <div class="col-md-12"><strong>Email Id : </strong>{{item.email == null
                                                ?'NA' :item.email}} </div>
                                            <div class="col-md-12"><strong>Mobile No. : </strong> {{item.mobileno ==
                                                null ? 'NA':item.mobileno}}</div>
                                            <div class="col-md-12"><strong>Address : </strong>{{item.address == null?
                                                'NA':item.address}} </div>
                                            <div class="col-md-12"><strong>State : </strong>{{item.StateName=='' ?
                                                'NA':item.StateName}}
                                            </div>
                                            <div class="col-md-12"><strong>District : </strong>{{item.DistrictName==''
                                                ?'NA':item.DistrictName}} </div>

                                            <div class="col-md-12"><strong>Total no. of Employer : </strong>{{item.NoOfEmployer}}
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="job-list-action card-view-btns">
                                            <a class="viewit" href="javascript:void(0)" (click)="getEmployerData(item.LoginId,0,'')"
                                                title="View" *ngIf="item.NoOfEmployer!=0">View Employers</a>
                                            <!-- <a class="postit" href="javascript:void(0)" (click)="PushedTemplate(template,item.LoginId)"
                                                title="Delete">Delete</a> -->

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="((finaldata == '' || finaldata.length==0))" class="alert alert-warning">No Data Found...</div>

<!-- FOS Agency List End here -->


<!-- FOS Agency & Employer list Start here -->
<div class="dash-head" *ngIf="(filtershow=='1')">
    <p>
        <span> Employer List</span>

    </p>
    <span *ngIf="(hide1==1)">
        <a href="javascript:void(0)" (click)="previous()" class="btn pull-right btn-back-reg">
            Back
        </a>
    </span>
</div>
<!-- <div *ngIf="employerlist==1">
    <div class="page-filters">
        <h2>
            <a href="javascript:void(0);">
                <i class="fa fa-filter" aria-hidden="true"></i>Search
                <span><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
            </a>
        </h2>

        <div class="filter-wrapper">
            <div class="form-group">

                <div class="col-md-9 col-sm-9">
                    <div class="col-sm-3"><label>Select Agency<span></span></label></div>
                    <div class="col-sm-6">
                        <select [(ngModel)]="agency" (change)="getEmployerData($event.target.value,0,'')" class="form-control">
                            <option selected value="0">Select Agency</option>
                            <option *ngFor="let item of agnetdatalist" [value]="item.LoginId">{{item.agentname }}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group text-center m-t-5">
                <button type="submit" [disabled]="!searchsts" class="btn btn-w-shadow no-rd filter-toggle">Search</button>
            </div>
        </div>

    </div>
</div> -->

<div *ngIf="(listview==true)">

    <div class="col-md-12">
        <div class="all-jobs-list">
            <div class="searchResults" id="">
                <ul class="joblist-wrapper">
                    <li class="job-wrapper ps-relative" *ngFor="let item of employerata
                    "
                        [style.background-color]="item.LoginId==id ? '#d4d0d0' : 'none' ">
                        <div class="job-view fos">
                            <div>
                                <img class="img-thumbnail" src="{{ item.image!='' && item.image!=null?       item.image:'assets/images/NoImage.png'}}"
                                    onError="this.src='../assets/images/NoImage.png'">
                            </div>
                            <div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-12"><strong>Employer Name : </strong>{{item.establishmentname
                                            == null || item.establishmentname == '' ? 'NA':item.establishmentname}}
                                        </div>
                                        <div class="col-md-12"><strong>Owner Name : </strong>
                                            {{item.ownername == null || item.ownername == '' ? 'NA':item.ownername}}
                                        </div>
                                        <div class="col-md-12"><strong>Email Id : </strong>
                                            {{item.email == null || item.email == '' ? 'NA':item.email}} </div>
                                        <div class="col-md-12"><strong>Mobile No. : </strong> {{item.mobileno == null
                                            || item.mobileno == '' ?
                                            'NA':item.mobileno}} </div>
                                        <div class="col-md-12"><strong>Address : </strong> {{item.address == null ||
                                            item.address == '' ?
                                            'NA':item.address}}</div>
                                        <div class="col-md-12"><strong>Job Count : </strong>{{item.jobcount}} </div>
                                        <!-- <div class="col-md-12"><strong>Address : </strong>{{item.address}} </div> -->
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="job-list-action card-view-btns">

                                        <a class="postit" href="javascript:void(0)" title="Edit" (click)="editEmployer(item)">Edit
                                            Employer</a>


                                        <a class="postit" href="javascript:void(0)" title="View" (click)="viewemployer(item)"
                                            *ngIf="item.jobcount!=0">View Jobs</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- FOS Agency & Employer list Ends here -->


<!-- FOS Employer Update Start here -->

<div *ngIf="(EditEmployer==1)">
    <div>
        <div class="legend-text" style="margin-top: 0">
            <span>
                Update Employer
            </span>
        </div>
        <div class="cleafix margin-bottom-15"></div>
        <div class="col-md-12">
            <form [formGroup]="updateEmployerForm" (ngSubmit)="UpdateEmployer(updateEmployerForm.value)">
                <div class="edit-profile-wrapper">
                    <div class="box-title ps-relative">
                        <div class="job-list-action">
                            <a class="viewit" href="javascript:void(0)" (click)="Close()" title="Close">Close</a>
                        </div>
                        <p class="box-title-content">
                            Employer Detail
                        </p>
                    </div>

                    <div class="box-content">
                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Nature of Businness
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input class="form-control" type="text" formControlName="natureofbusinness" maxlength="100"
                                    placeholder="Nature of Businness">
                                <span id="error_natureofbusinness" class="text-danger"></span>
                                <errors [control]="updateEmployerForm.controls.natureofbusinness"></errors>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Establishment Name
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input class="form-control" type="text" formControlName="establishmentname" maxlength="100"
                                    placeholder="Establishment Name" oninput="this.value = this.value.replace(/[!@#$%\^&*()+=\-\[\]\\';,/{}|\\':<>\?'0-9']/g, '').replace(/(\..*)\./g, '$1');">
                                <span id="error_establishmentname" class="text-danger"></span>
                                <errors [control]="updateEmployerForm.controls.establishmentname"></errors>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Owner Name
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input class="form-control" type="text" formControlName="ownername" maxlength="100"
                                    placeholder="Owner Name" oninput="this.value = this.value.replace(/[!@#$%\^&*()+=\-\[\]\\';,/{}|\\':<>\?'0-9']/g, '').replace(/(\..*)\./g, '$1');">
                                <span id="error_ownername" class="text-danger"></span>
                                <errors [control]="updateEmployerForm.controls.ownername"></errors>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Mobile No.
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input name="mobile" class="form-control" type="text" formControlName="mobile"
                                    maxlength="10" autocomplete="off" placeholder="Mobile No." (keypress)="onlyNumber($event)">
                                <errors [control]="updateEmployerForm.controls.mobile"></errors>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Email Id
                                    
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input name="email" class="form-control" type="text" formControlName="email"
                                    autocomplete="off" placeholder="Email Id" maxlength="100">
                                <errors [control]="updateEmployerForm.controls.email"></errors>

                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                   PAN/GSTIN
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input id="gst" name="gst" class="form-control text-uppercase" type="text"
                                    data-validation="gst" formControlName="gst" autocomplete="off" placeholder="GSTIN"
                                    maxlength="15" appBlockCopyPaste>
                                <div class="">
                                    <errors [control]="updateEmployerForm.controls.gst"></errors>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Owner Pic
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-4 col-sm-4 file-upload">
                                <input type="file" (change)="onUploadChangeAgentPic($event)" formControlName="agent_pic">
                            </div>
                            <div class="col-md-2 col-sm-2">
                                <a [href]="employerimg.ownerimgp" class="text-link" target="_blank" *ngIf="employerimg.ownerimgn"><span
                                        class="glyphicon glyphicon-zoom-in"></span></a>
                            </div>

                            <!--<div class="col-md-3 col-sm-3 recruiter-logo">
                                <a href="javascript:void(0)" *ngFor="let item of base64textStringAgent">
                                    <img src="{{item!=''?item:'assets/images/NoImage.png'}}" />
                                </a>

                            </div>-->
                        </div>
                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Shop Img
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-4 col-sm-4 file-upload">
                                <input type="file" (change)="onUploadChange($event,'ShopImg')" formControlName="shop_pic">
                            </div>
                            <div class="col-md-2 col-sm-2">
                                <a [href]="employerimg.shopimgp" class="text-link" target="_blank" *ngIf="employerimg.shopimgn"><span
                                        class="glyphicon glyphicon-zoom-in"></span></a>
                            </div>
                            <!--<div class="col-md-3 col-sm-3 recruiter-logo">
                                <a href="javascript:void(0)" *ngFor="let item of base64textStringShop">
                                    <img src="{{item!=''?item:'assets/images/NoImage.png'}}" />
                                </a>
                                 <img src="{{imgSrc!=null?imgSrc:'assets/images/NoImage.png'}}" alt="" /> 
                            </div>-->
                        </div>

                        <!-- <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label> Shop Img</label>
                            </div>
                            <div class="col-md-2">
                                <label for="type-file" class="type-file">
                                    Choose File
                                    <input type="file" (change)="onUploadChange($event,'ShopImg')" formControlName="shop_pic"
                                        accept="image/x-png,image/gif,image/jpeg,image/jpg,application/pdf"> </label>
                                <span class="highlight"></span>
                                <span class="bar"></span>
                                <a [href]="gstGetImage" target="_blank" *ngIf="CompanyData.gstnImagePath"><span class="glyphicon glyphicon-zoom-in"></span></a>
                                <errors [control]="updateEmployerForm.shop_pic"></errors>
                            </div>
                        </div> -->


                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    PAN/GSTIN Pic
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-4 col-sm-4 file-upload">
                                <input type="file" (change)="onUploadChange($event,'PanGstImg')" formControlName="pangst_pic">
                            </div>
                            <div class="col-md-2 col-sm-2">
                                <a [href]="employerimg.pangstimgp" class="text-link" target="_blank" *ngIf="employerimg.pangstimgn">
                                    <span class="glyphicon glyphicon-zoom-in"></span>
                                </a>
                            </div>
                            <!--<div class="col-md-3 col-sm-3 recruiter-logo">
                                <a href="javascript:void(0)" *ngFor="let item of base64textStringPanGst">
                                    <img src="{{item!=''?item:'assets/images/NoImage.png'}}" />
                                </a>

                            </div>-->
                        </div>

                        <!-- <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label> PAN/GSTIN Pic</label>
                            </div>
                            <div class="col-md-2">
                                <label for="type-file" class="type-file">
                                    Choose File
                                    <input type="file" (change)="onUploadChange($event,'PanGstImg')" formControlName="pangst_pic"
                                        accept="image/x-png,image/gif,image/jpeg,image/jpg,application/pdf"> </label>
                                <span class="highlight"></span>
                                <span class="bar"></span>
                                <a [href]="gstGetImage" target="_blank" *ngIf="CompanyData.gstnImagePath"><span class="glyphicon glyphicon-zoom-in"></span></a>
                                <errors [control]="updateEmployerForm.pangst_pic"></errors>
                            </div>
                        </div> -->

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Address
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <textarea formControlName="address" class="form-control" cols="10" rows="5" maxlength="250"
                                    placeholder="Address"></textarea>
                                <errors [control]="updateEmployerForm.controls.address"></errors>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    State
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <select class="form-control" formControlName="state" (change)="GetAllDistrict($event.target.value)">
                                    <option value="" selected>--Select--</option>
                                    <option *ngFor="let st of states" [value]="st.ID">{{st.STATENAME}}</option>
                                </select>

                                <errors [control]="updateEmployerForm.controls.state"></errors>

                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    District
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <select class="form-control" #val formControlName="district">
                                    <option value="" selected="selected">--Select--</option>
                                    <option *ngFor="let district of districts" [value]="district.ID">{{district.DISTRICTNAME}}</option>
                                </select>
                                <errors [control]="updateEmployerForm.controls.district"></errors>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-3 text-right">
                                <label>
                                    Near By
                                    <span class="mandatory">*</span>
                                </label>
                            </div>
                            <div class="col-md-5">
                                <input class="form-control" type="text" formControlName="nearby" maxlength="100"
                                    placeholder="Near By">
                                <span id="error_nearby" class="text-danger"></span>
                                <errors [control]="updateEmployerForm.controls.nearby"></errors>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">

                    <div class="form-group m-t-10">
                        <div class="col-md-12 text-center">
                            <button [disabled]="!updateEmployerForm.valid || imagetypests==false || imagesizests==false"
                                class="btn btn-w-shadow no-rd">Update</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- FOS Employer Update Ends here -->

<!-- FOS Employer &  Joblist Start here -->
<div *ngIf="(singledetailsview==1)">
    <div class="dash-head">
        <p>Employer Detail</p>
        <a href="javascript:void(0)" class="btn pull-right btn-back-reg" (click)="singleback()">
            <i class="fa fa-arrow-left" aria-hidden="true"></i>
        </a>
    </div>
    <div class="col-md-12">
        <div class="jd-detail job-wrapper searchResults ps-relative">
            <div class="job-view">
                <div>
                    <img class="img-thumbnail" src="{{ agentimagebyUserid.ownerimgp!='' && agentimagebyUserid.ownerimgp!=null?       agentimagebyUserid.ownerimgp:'assets/images/NoImage.png'}}"
                        onError="this.src='../assets/images/NoImage.png'">

                </div>
                <div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-5">
                                <p> <span class="text-strong">Employer Name : </span>{{employerdata.establishmentname
                                    == null || employerdata.establishmentname == '' ?
                                    'NA':employerdata.establishmentname}} </p>
                            </div>
                            <div class="col-md-7">
                                <p> <span class="text-strong"> Mobile No. : </span>{{employerdata.mobileno ==null ||
                                    employerdata.mobileno == '' ? 'NA':employerdata.mobileno}} </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-5">
                                <p> <span class="text-strong"> Email Id : </span>{{employerdata.email == null ||
                                    employerdata.email == '' ? 'NA':employerdata.email}}
                                </p>
                            </div>
                            <div class="col-md-7">
                                <p><span class="text-strong"> Address : </span>{{employerdata.address == null ||
                                    employerdata.address == '' ? 'NA':employerdata.address}} </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-5">
                                <p> <span class="text-strong"> Business Nature : </span>{{employerdata.businessnature
                                    == null || employerdata.businessnature == '' ? 'NA': employerdata.businessnature}}
                                </p>
                            </div>
                            <div class="col-md-7">
                                <p><span class="text-strong"> Owner Name : </span>{{employerdata.ownername == null ||
                                    employerdata.ownername == '' ? 'NA':employerdata.ownername}} </p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-5">
                                <p> <span class="text-strong">State : </span>{{employerdata.statename=='' ?
                                    'NA':employerdata.statename}}
                                </p>
                            </div>
                            <div class="col-md-7">
                                <p><span class="text-strong">District : </span>{{employerdata.districtname==''
                                    ?'NA':employerdata.districtname}} </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="job-list-action card-view-btns">
                            <!-- <a class="viewit" href="javascript:void(0)" (click)="SingleUseredit(employerdata)" title="Edit">Edit</a> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="dash-head dash-head-2">
            <p>Job Detail</p>
        </div>

        <div class="col-md-12">
            <div class="all-jobs-list">
                <div class="searchResults">
                    <ul class="joblist-wrapper">
                        <li *ngFor="let item of employerJobDetails
                        " class="job-wrapper ps-relative">
                            <div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6"><strong>Job Title : </strong> <span>{{item.jobTitle==null?'NA':
                                            item.jobTitle}}</span></div>
                                    <div class="col-md-6"><strong>Job Code : </strong> <span>{{item.JobCode==null?'NA':item.JobCode}}</span></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6"><strong>Vacancy : </strong> <span>{{item.vacancy==null?'NA':item.vacancy}}</span></div>
                                    <div class="col-md-6"><strong>Mode of Salary : </strong> <span>{{item.modeofsalary==null?'0':item.modeofsalary}}</span></div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-6"><strong>Salary : </strong> <span>{{item.salary==null?'NA':item.salary}}</span></div>
                                    <div class="col-md-6"><strong>Application Received: </strong> <span>{{item.applicationrecieved==null?'NA':item.applicationrecieved}}</span></div>
                                </div>
                            </div>


                            <div class="form-group">
                                <div class="job-list-action card-view-btns">
                                    <!-- <a class="viewit" href="javascript:void(0)" (click)="getDetailsById(item.LoginId,item)"
                                        title="View">View</a> -->

                                    <!-- <a class="postit" href="javascript:void(0)" (click)="PushedTemplate(template,item.LoginId)"
                                        title="Delete">Delete</a> -->
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- FOS Employer &  Joblist End here -->