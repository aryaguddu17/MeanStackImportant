<div class="dash-head" *ngIf="Companywiselist=='1'">
    <p>Agent Wise Reports</p>
    <a class="btn pull-right btn-back-reg" href="javascript:void(0)" (click)="ShowAllexcelExport(jobDetails)">
        <i class="fa fa-file-excel m-t-3" aria-hidden="true"></i>&nbsp;&nbsp;Export to Excel
    </a>
    <!-- <a (click)="backbtn()" *ngIf="previousbtn" title="Go Back" class="btn btn-w-shadow no-rd pull-right" tabindex="0"><i
        aria-hidden="true" class="fa fa-arrow-left"></i></a> -->
    <!--
            <a (click)="backbtn1()" *ngIf="previousbtn1" title="Go Back" class="btn btn-w-shadow no-rd pull-right" tabindex="0"><i
                aria-hidden="true" class="fa fa-arrow-left"></i></a> -->
</div>


<div class="col-md-12" *ngIf="Companywiselist=='1'">
    <div class="update-profile">
        <div id="" class="searchResults1">
            <div class="clearfix"></div>
            <!-- <div class="table-responsive">
                <table datatable id="DataTables_Table_0" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>S. No.</th>
                            <th>Agent Name</th>
                            <th>Email</th>
                            <th>Mobile No.</th>
                            <th>State Name</th>
                            <th>District Name</th>
                            <th>Total Employer</th>
                            <th>Total Approved User</th>
                            <th>Total Pending User</th>
                            <th>Total Rejected User</th>
                            <th>Total Jobs</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of jobDetails let i=index">
                            <td>{{i+1}}</td>
                            <td class="text-left">{{item.agentName}}</td>
                            <td class="text-left">{{item.Email}}</td>
                            <td class="text-left">{{item.MobileNo}}</td>
                            <td class="text-left">{{item.StateName}}</td>
                            <td>{{item.DistrictName}}</td>
                            <td>
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'ALL')"
                                    *ngIf="item.TotalEmployer>=1"> {{item.TotalEmployer}}
                                </a>
                                <a class="" href="javascript:void(0)" *ngIf="item.TotalEmployer==0">
                                    {{item.TotalEmployer}}
                                </a>
                            </td>
                            <td>
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'1')"
                                    *ngIf="item.TotalApprovedUser>=1">
                                    {{item.TotalApprovedUser}} </a>

                                <a class="" href="javascript:void(0)" *ngIf="item.TotalApprovedUser==0">
                                    {{item.TotalApprovedUser}} </a>
                            </td>
                            <td>
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'')"
                                    *ngIf="item.TOTALPENDINGUser>=1"> {{item.TOTALPENDINGUser}}
                                </a>
                                <a class="" href="javascript:void(0)" *ngIf="item.TOTALPENDINGUser==0">
                                    {{item.TOTALPENDINGUser}}
                                </a>
                            </td>
                            <td>
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'0')"
                                    *ngIf="item.TotalRejectedUser>=1"> {{item.TotalRejectedUser}}
                                </a>
                                <a class="" href="javascript:void(0)" *ngIf="item.TotalRejectedUser==0">
                                    {{item.TotalRejectedUser}}
                                </a>
                            </td>
                            <td>{{item.TotalJobs}}</td>
                        </tr>
                    </tbody>
                </table>
            </div> -->


            <div class="all-jobs-list">
                <div id="" class="searchResults">
                    <div class="ui-widget-header ui-widget-header-r">
                        <input #gb type="text" pInputText size="50" placeholder="Search">
                    </div>
                    <p-dataTable [(value)]="jobDetails" [paginator]="true" [rows]="10" [pageLinks]="3"
                        [rowsPerPageOptions]="[10,25,50]" [responsive]="true" [globalFilter]="gb" [loading]="loading">
                        <p-column header="S. No." [style]="{'width':'50px'}">
                            <ng-template pTemplate="body" let-i="rowIndex" let-suite>
                                {{i+1}}
                            </ng-template>
                        </p-column>
                        <p-column field="agentName" header="Agent Name" [sortable]="true" [style]="{'width':'200px'}"></p-column>
                        <p-column field="Email" header="Email" [sortable]="true" [style]="{'width':'200px'}"></p-column>
                        <p-column field="MobileNo" header="Mobile No." [sortable]="true" [style]="{'width':'100px'}"></p-column>
                        <p-column field="StateName" header="State Name" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                        <p-column field="DistrictName" header="District Name" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                        <p-column field="TotalEmployer" header="Total Employer" [sortable]="true" [style]="{'width':'100px'}">
                            <ng-template field="TotalEmployer" let-item="rowData" pTemplate type="body">
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'ALL')"
                                    *ngIf="item.TotalEmployer>=1"> {{item.TotalEmployer}}
                                </a>
                                <a class="" href="javascript:void(0)" *ngIf="item.TotalEmployer==0">
                                    {{item.TotalEmployer}}
                                </a>
                            </ng-template>
                        </p-column>
                        <p-column field="TotalApprovedUser" header="Total Approved User" [sortable]="true" [style]="{'width':'100px'}">
                            <ng-template field="TotalApprovedUser" let-item="rowData" pTemplate type="body">
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'1')"
                                    *ngIf="item.TotalApprovedUser>=1">
                                    {{item.TotalApprovedUser}} </a>

                                <a class="" href="javascript:void(0)" *ngIf="item.TotalApprovedUser==0">
                                    {{item.TotalApprovedUser}} </a>
                            </ng-template>
                        </p-column>
                        <p-column field="TOTALPENDINGUser" header="Total Pending User" [sortable]="true" [style]="{'width':'100px'}">
                            <ng-template field="TOTALPENDINGUser" let-item="rowData" pTemplate type="body">
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'')"
                                    *ngIf="item.TOTALPENDINGUser>=1"> {{item.TOTALPENDINGUser}}
                                </a>

                                <a class="" href="javascript:void(0)" *ngIf="item.TOTALPENDINGUser==0">
                                    {{item.TOTALPENDINGUser}}
                                </a>
                            </ng-template>
                        </p-column>
                        <p-column field="TotalRejectedUser" header="Total Rejected User" [sortable]="true" [style]="{'width':'100px'}">
                            <ng-template field="TotalRejectedUser" let-item="rowData" pTemplate type="body">
                                <a class="mandatory" href="javascript:void(0)" (click)="Appliedcandidatedetail(item,'0')"
                                    *ngIf="item.TotalRejectedUser>=1"> {{item.TotalRejectedUser}}
                                </a>
                                <a class="" href="javascript:void(0)" *ngIf="item.TotalRejectedUser==0">
                                    {{item.TotalRejectedUser}}
                                </a>
                            </ng-template>
                        </p-column>
                        <p-column field="TotalJobs" header="Total Jobs" [sortable]="true" [style]="{'width':'100px'}">
                        </p-column>
                    </p-dataTable>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="appliedcandidatedetail=='1'">
    <div class="dash-head">
        <p>Agent Detail</p>
        <a href="javascript:void(0)" (click)="singleback()" class="btn pull-right btn-back-reg">
            Back
        </a>
        <!-- <a class="btn pull-right btn-back-reg" href="javascript:void(0)" (click)="excelExport()">
                    <i class="fa fa-file-excel m-t-3" aria-hidden="true"></i>&nbsp;&nbsp;Export to Excel
                </a> -->
    </div>
    <div class="roj-panel-content">
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th style="min-width: 300px;">Agent Name</th>
                        <th style="min-width: 300px;">Email</th>
                        <th style="min-width: 300px;">Mobile No.</th>
                        <th style="min-width: 180px;">State</th>
                        <th style="min-width: 150px;">District</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="text-left">{{setdata.agentName}}</td>
                        <td class="text-left">{{setdata.Email}}</td>
                        <td class="text-left">{{setdata.MobileNo}}</td>
                        <td class="text-left">{{setdata.StateName}}</td>
                        <td>{{setdata.DistrictName}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="dash-head">
        <!-- <p>Applied Candidate List</p> -->
        <p>Employer Detail</p>
        <!-- <a href="javascript:void(0)" (click)="singleback1()" class="btn pull-right btn-back-reg">
                Back
            </a> -->
        <a class="btn pull-right btn-back-reg" href="javascript:void(0)" (click)="excelExport()">
            <i class="fa fa-file-excel m-t-3" aria-hidden="true"></i>&nbsp;&nbsp;Export to Excel
        </a>
    </div>
    <!-- <div class="table-responsive">
        <table datatable class="row-border hover table table-striped table-bordered" [dtOptions]="dtOptions"
            [dtTrigger]="dtTrigger">
            <thead>
                <tr>
                    <th>S.No.</th>
                    <th>Owner Name</th>
                    <th>Establishment Name</th>
                    <th>Mobile No.</th>
                    <th>Email</th>
                    <th>Businessnature</th>
                    <th>Address</th>
                    <th>Nearby</th>
                    <th>State Name </th>
                    <th>District Name</th>
                    <th>Total Jobs</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of appliedcandidatedetail2 let i=index">
                    <td>{{ i+ 1 }}</td>
                    <td>{{item.ownername?item.ownername:'NA'}}</td>
                    <td>{{item.establishmentname?item.establishmentname:'NA'}}</td>
                    <td>{{item.mobileno?item.mobileno:'NA'}}</td>
                    <td>{{item.email?item.email:'NA'}}</td>
                    <td>{{item.businessnature?item.businessnature:'NA'}}</td>
                    <td>{{item.address?item.address:'NA'}}</td>
                    <td>{{item.nearby?item.nearby:'NA'}}</td>
                    <td>{{item.statename?item.statename:'NA'}}</td>
                    <td>{{item.districtname?item.districtname:'NA'}}</td>
                    <td>{{item.totaljobs?item.totaljobs:'NA'}}</td>
                </tr>
            </tbody>
        </table>
    </div> -->

    <div class="all-jobs-list">
        <div id="" class="searchResults">
            <div class="ui-widget-header ui-widget-header-r">
                <input #gb type="text" pInputText size="50" placeholder="Search">
            </div>
            <p-dataTable [(value)]="appliedcandidatedetail2" [paginator]="true" [rows]="10" [pageLinks]="3"
                [rowsPerPageOptions]="[10,25,50]" [responsive]="true" [globalFilter]="gb" [loading]="loading">
                <p-column header="S. No." [style]="{'width':'50px'}">
                    <ng-template pTemplate="body" let-i="rowIndex" let-suite>
                        {{i+1}}
                    </ng-template>
                </p-column>
                <p-column field="ownername" header="Owner Name" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                <p-column field="establishmentname" header="Establishment Name" [sortable]="true" [style]="{'width':'150px'}"></p-column>
                <p-column field="mobileno" header="Mobile No." [sortable]="true" [style]="{'width':'100px'}"></p-column>
                <p-column field="email" header="Email" [sortable]="true" [style]="{'width':'200px'}"></p-column>
                <p-column field="businessnature" header="Businessnature" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                <p-column field="address" header="Address" [sortable]="true" [style]="{'width':'250px'}"></p-column>
                <p-column field="nearby" header="Nearby" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                <p-column field="statename" header="State Name" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                <p-column field="districtname" header="District Name" [sortable]="true" [style]="{'width':'100px'}"></p-column>
                <p-column field="totaljobs" header="Total Jobs" [sortable]="true" [style]="{'width':'100px'}"></p-column>
            </p-dataTable>
        </div>
    </div>
</div>